<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ™ŸÖÿßÿ±ŸäŸÜ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ŸàÿßŸÑŸÖÿ≠Ÿäÿ∑ ŸÑŸÑŸÖÿ¨ÿ≥ŸÖÿßÿ™</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            direction: rtl;
            text-align: right;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .exercise-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .score-display {
            font-size: 1.2em;
            font-weight: bold;
            color: #4CAF50;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 25px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #2196F3);
            border-radius: 6px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .question-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .question-text {
            font-size: 1.4em;
            margin-bottom: 20px;
            line-height: 1.6;
            text-align: center;
        }

        .shape-display {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 25px 0;
        }

        .shape-visual {
            background: rgba(255, 255, 255, 0.1);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            min-width: 300px;
        }

        .shape-icon {
            font-size: 5em;
            margin-bottom: 15px;
            display: block;
        }

        .shape-name {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #FFD700;
        }

        .dimensions {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            font-size: 1.1em;
            line-height: 1.8;
        }

        .formula-hint {
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid rgba(76, 175, 80, 0.4);
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            text-align: center;
        }

        .input-section {
            text-align: center;
            margin: 25px 0;
        }

        .answer-input {
            background: rgba(255, 255, 255, 0.9);
            border: 3px solid rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            padding: 15px 20px;
            font-size: 1.3em;
            color: #333;
            width: 250px;
            text-align: center;
            margin: 0 10px;
        }

        .answer-input:focus {
            outline: none;
            border-color: #2196F3;
            box-shadow: 0 0 15px rgba(33, 150, 243, 0.4);
        }

        .unit-display {
            font-size: 1.2em;
            font-weight: bold;
            color: #FFD700;
            margin-right: 10px;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 15px 35px;
            font-size: 1.1em;
            font-weight: bold;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 140px;
        }

        .submit-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.4);
        }

        .submit-btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        .next-btn {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            color: white;
        }

        .next-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(33, 150, 243, 0.4);
        }

        .feedback {
            margin-top: 25px;
            padding: 20px;
            border-radius: 12px;
            font-size: 1.2em;
            text-align: center;
            font-weight: bold;
        }

        .feedback.correct {
            background: rgba(76, 175, 80, 0.2);
            border: 3px solid rgba(76, 175, 80, 0.6);
            color: #4CAF50;
        }

        .feedback.wrong {
            background: rgba(244, 67, 54, 0.2);
            border: 3px solid rgba(244, 67, 54, 0.6);
            color: #f44336;
        }

        .explanation {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-size: 1em;
            line-height: 1.6;
        }

        .final-results {
            text-align: center;
            padding: 30px;
        }

        .final-score {
            font-size: 2.5em;
            margin: 20px 0;
            font-weight: bold;
        }

        .score-excellent { color: #4CAF50; }
        .score-good { color: #2196F3; }
        .score-needs-improvement { color: #FF9800; }

        .results-details {
            font-size: 1.2em;
            line-height: 2;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2em; }
            .shape-visual { min-width: 250px; padding: 20px; }
            .shape-icon { font-size: 4em; }
            .answer-input { width: 200px; font-size: 1.1em; }
            .action-btn { padding: 12px 25px; min-width: 120px; }
        }

        .hint-btn {
            background: rgba(255, 193, 7, 0.3);
            border: 2px solid rgba(255, 193, 7, 0.6);
            color: #FFC107;
            margin-top: 10px;
        }

        .hint-btn:hover {
            background: rgba(255, 193, 7, 0.5);
        }

        .hint-content {
            background: rgba(255, 193, 7, 0.1);
            border: 2px solid rgba(255, 193, 7, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            font-size: 1em;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìê ÿ™ŸÖÿßÿ±ŸäŸÜ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ŸàÿßŸÑŸÖÿ≠Ÿäÿ∑ ŸÑŸÑŸÖÿ¨ÿ≥ŸÖÿßÿ™</h1>
        
        <div class="controls">
            <button class="control-btn" id="start-btn">üöÄ ÿ®ÿØÿ° ÿßŸÑÿ™ŸÖÿßÿ±ŸäŸÜ</button>
            <button class="control-btn" id="new-exercise-btn" style="display: none;">üîÑ ÿ™ŸÖÿ±ŸäŸÜ ÿ¨ÿØŸäÿØ</button>
            <button class="control-btn" id="help-btn">‚ùì ŸÖÿ≥ÿßÿπÿØÿ©</button>
        </div>

        <!-- ÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ™ŸÖÿßÿ±ŸäŸÜ -->
        <div id="exercise-area" class="exercise-container" style="display: none;">
            <div class="exercise-header">
                <div class="exercise-counter">ÿßŸÑÿ≥ÿ§ÿßŸÑ <span id="current-question">1</span> ŸÖŸÜ <span id="total-questions">15</span></div>
                <div class="score-display">ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©: <span id="current-score">0</span> ŸÜŸÇÿ∑ÿ©</div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>

            <div class="question-container">
                <div class="question-text" id="question-text"></div>
                
                <div class="shape-display">
                    <div class="shape-visual">
                        <div class="shape-icon" id="shape-icon"></div>
                        <div class="shape-name" id="shape-name"></div>
                        <div class="dimensions" id="dimensions-display"></div>
                    </div>
                </div>

                <div class="formula-hint" id="formula-hint"></div>

                <div class="input-section">
                    <input type="number" class="answer-input" id="answer-input" placeholder="ÿ£ÿØÿÆŸÑ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ©" step="0.01">
                    <span class="unit-display" id="unit-display"></span>
                </div>

                <div class="action-buttons">
                    <button class="action-btn submit-btn" id="submit-answer">ÿ™ÿ£ŸÉŸäÿØ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ©</button>
                    <button class="action-btn hint-btn" id="show-hint">üí° ÿ™ŸÑŸÖŸäÿ≠</button>
                    <button class="action-btn next-btn" id="next-question" style="display: none;">ÿßŸÑÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ™ÿßŸÑŸä ‚¨ÖÔ∏è</button>
                </div>

                <div class="hint-content" id="hint-content" style="display: none;"></div>
                <div class="feedback" id="feedback" style="display: none;"></div>
            </div>
        </div>

        <!-- ÿ¥ÿßÿ¥ÿ© ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨ ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ© -->
        <div id="results-screen" class="exercise-container" style="display: none;">
            <div class="final-results">
                <h2>üéØ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨ ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©</h2>
                <div class="final-score" id="final-score-text"></div>
                <div class="results-details" id="results-details"></div>
                <div class="action-buttons">
                    <button class="action-btn submit-btn" id="restart-btn">ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ŸÖÿßÿ±ŸäŸÜ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ŸÖÿ™ÿ∫Ÿäÿ±ÿßÿ™ ÿπÿßŸÖÿ©
        let currentQuestion = 0;
        let totalQuestions = 15;
        let currentScore = 0;
        let questions = [];
        let userAnswers = [];

        // ÿ£ŸäŸÇŸàŸÜÿßÿ™ Ÿàÿ£ÿ≥ŸÖÿßÿ° ÿßŸÑŸÖÿ¨ÿ≥ŸÖÿßÿ™
        const shapes = {
            cube: { icon: 'üü´', name: 'ŸÖŸÉÿπÿ®' },
            rectangular_prism: { icon: 'üì¶', name: 'ŸÖÿ™Ÿàÿßÿ≤Ÿä ŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿßÿ™' },
            cylinder: { icon: 'ü•´', name: 'ÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ©' },
            cone: { icon: 'üéâ', name: 'ŸÖÿÆÿ±Ÿàÿ∑' }
        };

        // ÿ®ŸÜŸÉ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©
        const questionBank = [
            // ÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖŸÉÿπÿ®
            {
                shape: 'cube',
                question: 'ÿßÿ≠ÿ≥ÿ® ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© ŸÑŸÑŸÖŸÉÿπÿ® ÿßŸÑÿ™ÿßŸÑŸä:',
                dimensions: { side: 4 },
                dimensionText: 'ÿ∑ŸàŸÑ ÿßŸÑÿ∂ŸÑÿπ = 4 ÿ≥ŸÖ',
                formula: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© = 6 √ó (ÿ∑ŸàŸÑ ÿßŸÑÿ∂ŸÑÿπ)¬≤',
                calculation: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 6 √ó 4¬≤ = 6 √ó 16 = 96',
                answer: 96,
                unit: 'ÿ≥ŸÖ¬≤',
                hint: 'ÿßŸÑŸÖŸÉÿπÿ® ŸÑŸá 6 ÿ£Ÿàÿ¨Ÿá ŸÖÿ™ÿ≥ÿßŸàŸäÿ©ÿå ŸÉŸÑ Ÿàÿ¨Ÿá ŸÖÿ≥ÿßÿ≠ÿ™Ÿá = ÿßŸÑÿ∂ŸÑÿπ √ó ÿßŸÑÿ∂ŸÑÿπ',
                points: 2
            },
            {
                shape: 'cube',
                question: 'ÿßÿ≠ÿ≥ÿ® ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© ŸÑŸÑŸÖŸÉÿπÿ® ÿßŸÑÿ™ÿßŸÑŸä:',
                dimensions: { side: 6 },
                dimensionText: 'ÿ∑ŸàŸÑ ÿßŸÑÿ∂ŸÑÿπ = 6 ÿ≥ŸÖ',
                formula: 'ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© = 4 √ó ÿ∑ŸàŸÑ ÿßŸÑÿ∂ŸÑÿπ',
                calculation: 'ÿßŸÑŸÖÿ≠Ÿäÿ∑ = 4 √ó 6 = 24',
                answer: 24,
                unit: 'ÿ≥ŸÖ',
                hint: 'ŸÇÿßÿπÿØÿ© ÿßŸÑŸÖŸÉÿπÿ® ŸÖÿ±ÿ®ÿπ ÿßŸÑÿ¥ŸÉŸÑÿå ŸàŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÖÿ±ÿ®ÿπ = 4 √ó ÿ∑ŸàŸÑ ÿßŸÑÿ∂ŸÑÿπ',
                points: 1
            },
            {
                shape: 'cube',
                question: 'ÿßÿ≠ÿ≥ÿ® ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© ŸÑŸÑŸÖŸÉÿπÿ® ÿßŸÑÿ™ÿßŸÑŸä:',
                dimensions: { side: 5 },
                dimensionText: 'ÿ∑ŸàŸÑ ÿßŸÑÿ∂ŸÑÿπ = 5 ÿ≥ŸÖ',
                formula: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© = 6 √ó (ÿ∑ŸàŸÑ ÿßŸÑÿ∂ŸÑÿπ)¬≤',
                calculation: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 6 √ó 5¬≤ = 6 √ó 25 = 150',
                answer: 150,
                unit: 'ÿ≥ŸÖ¬≤',
                hint: 'ÿ™ÿ∞ŸÉÿ± ÿ£ŸÜ ÿßŸÑŸÖŸÉÿπÿ® ŸÑŸá 6 ÿ£Ÿàÿ¨Ÿá ŸÖÿ±ÿ®ÿπÿ© ŸÖÿ™ÿ∑ÿßÿ®ŸÇÿ©',
                points: 2
            },

            // ÿ£ÿ≥ÿ¶ŸÑÿ© ŸÖÿ™Ÿàÿßÿ≤Ÿä ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿßÿ™
            {
                shape: 'rectangular_prism',
                question: 'ÿßÿ≠ÿ≥ÿ® ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© ŸÑŸÖÿ™Ÿàÿßÿ≤Ÿä ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿßÿ™ ÿßŸÑÿ™ÿßŸÑŸä:',
                dimensions: { length: 8, width: 5, height: 3 },
                dimensionText: 'ÿßŸÑÿ∑ŸàŸÑ = 8 ÿ≥ŸÖÿå ÿßŸÑÿπÿ±ÿ∂ = 5 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 3 ÿ≥ŸÖ',
                formula: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 2(ÿ∑ŸàŸÑ√óÿπÿ±ÿ∂ + ÿ∑ŸàŸÑ√óÿßÿ±ÿ™ŸÅÿßÿπ + ÿπÿ±ÿ∂√óÿßÿ±ÿ™ŸÅÿßÿπ)',
                calculation: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 2(8√ó5 + 8√ó3 + 5√ó3) = 2(40 + 24 + 15) = 2√ó79 = 158',
                answer: 158,
                unit: 'ÿ≥ŸÖ¬≤',
                hint: 'ŸÖÿ™Ÿàÿßÿ≤Ÿä ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿßÿ™ ŸÑŸá 6 ÿ£Ÿàÿ¨Ÿá: Ÿàÿ¨ŸáÿßŸÜ ŸÑŸÉŸÑ ŸÖŸÜ ÿßŸÑÿ∑ŸàŸÑ√óÿßŸÑÿπÿ±ÿ∂ÿå ÿßŸÑÿ∑ŸàŸÑ√óÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπÿå ÿßŸÑÿπÿ±ÿ∂√óÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ',
                points: 3
            },
            {
                shape: 'rectangular_prism',
                question: 'ÿßÿ≠ÿ≥ÿ® ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© ŸÑŸÖÿ™Ÿàÿßÿ≤Ÿä ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿßÿ™ ÿßŸÑÿ™ÿßŸÑŸä:',
                dimensions: { length: 12, width: 7, height: 4 },
                dimensionText: 'ÿßŸÑÿ∑ŸàŸÑ = 12 ÿ≥ŸÖÿå ÿßŸÑÿπÿ±ÿ∂ = 7 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 4 ÿ≥ŸÖ',
                formula: 'ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© = 2(ÿßŸÑÿ∑ŸàŸÑ + ÿßŸÑÿπÿ±ÿ∂)',
                calculation: 'ÿßŸÑŸÖÿ≠Ÿäÿ∑ = 2(12 + 7) = 2 √ó 19 = 38',
                answer: 38,
                unit: 'ÿ≥ŸÖ',
                hint: 'ŸÇÿßÿπÿØÿ© ŸÖÿ™Ÿàÿßÿ≤Ÿä ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿßÿ™ ŸáŸä ŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿå ŸàŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑ = 2(ÿßŸÑÿ∑ŸàŸÑ + ÿßŸÑÿπÿ±ÿ∂)',
                points: 1
            },
            {
                shape: 'rectangular_prism',
                question: 'ÿßÿ≠ÿ≥ÿ® ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© ŸÑŸÖÿ™Ÿàÿßÿ≤Ÿä ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿßÿ™ ÿßŸÑÿ™ÿßŸÑŸä:',
                dimensions: { length: 6, width: 4, height: 5 },
                dimensionText: 'ÿßŸÑÿ∑ŸàŸÑ = 6 ÿ≥ŸÖÿå ÿßŸÑÿπÿ±ÿ∂ = 4 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 5 ÿ≥ŸÖ',
                formula: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 2(ÿ∑ŸàŸÑ√óÿπÿ±ÿ∂ + ÿ∑ŸàŸÑ√óÿßÿ±ÿ™ŸÅÿßÿπ + ÿπÿ±ÿ∂√óÿßÿ±ÿ™ŸÅÿßÿπ)',
                calculation: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 2(6√ó4 + 6√ó5 + 4√ó5) = 2(24 + 30 + 20) = 2√ó74 = 148',
                answer: 148,
                unit: 'ÿ≥ŸÖ¬≤',
                hint: 'ÿßÿ¨ŸÖÿπ ŸÖÿ≥ÿßÿ≠ÿßÿ™ ÿßŸÑÿ£Ÿàÿ¨Ÿá ÿßŸÑÿ´ŸÑÿßÿ´ÿ© ÿßŸÑŸÖÿÆÿ™ŸÑŸÅÿ© ÿ´ŸÖ ÿßÿ∂ÿ±ÿ®Ÿáÿß ŸÅŸä 2',
                points: 3
            },

            // ÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ©
            {
                shape: 'cylinder',
                question: 'ÿßÿ≠ÿ≥ÿ® ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© ŸÑŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ©: (œÄ = 3.14)',
                dimensions: { radius: 3, height: 8 },
                dimensionText: 'ŸÜÿµŸÅ ÿßŸÑŸÇÿ∑ÿ± = 3 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 8 ÿ≥ŸÖ',
                formula: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 2œÄ √ó ŸÜŸÇ √ó (ŸÜŸÇ + ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ)',
                calculation: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 2 √ó 3.14 √ó 3 √ó (3 + 8) = 6.28 √ó 3 √ó 11 = 207.24',
                answer: 207.24,
                unit: 'ÿ≥ŸÖ¬≤',
                hint: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© = ŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÇÿßÿπÿØÿ™ŸäŸÜ + ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ©',
                points: 3
            },
            {
                shape: 'cylinder',
                question: 'ÿßÿ≠ÿ≥ÿ® ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© ŸÑŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ©: (œÄ = 3.14)',
                dimensions: { radius: 5, height: 10 },
                dimensionText: 'ŸÜÿµŸÅ ÿßŸÑŸÇÿ∑ÿ± = 5 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 10 ÿ≥ŸÖ',
                formula: 'ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© = 2œÄ √ó ŸÜÿµŸÅ ÿßŸÑŸÇÿ∑ÿ±',
                calculation: 'ÿßŸÑŸÖÿ≠Ÿäÿ∑ = 2 √ó 3.14 √ó 5 = 31.4',
                answer: 31.4,
                unit: 'ÿ≥ŸÖ',
                hint: 'ŸÇÿßÿπÿØÿ© ÿßŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ© ÿØÿßÿ¶ÿ±Ÿäÿ©ÿå ŸàŸÖÿ≠Ÿäÿ∑ ÿßŸÑÿØÿßÿ¶ÿ±ÿ© = 2œÄŸÜŸÇ',
                points: 2
            },
            {
                shape: 'cylinder',
                question: 'ÿßÿ≠ÿ≥ÿ® ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ© ŸÑŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ©: (œÄ = 3.14)',
                dimensions: { radius: 4, height: 6 },
                dimensionText: 'ŸÜÿµŸÅ ÿßŸÑŸÇÿ∑ÿ± = 4 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 6 ÿ≥ŸÖ',
                formula: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ© = 2œÄ √ó ŸÜŸÇ √ó ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ',
                calculation: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 2 √ó 3.14 √ó 4 √ó 6 = 150.72',
                answer: 150.72,
                unit: 'ÿ≥ŸÖ¬≤',
                hint: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ© ŸáŸä ŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿ≥ÿ∑ÿ≠ ÿßŸÑŸÖŸÜÿ≠ŸÜŸä ŸÑŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ© ŸÅŸÇÿ∑',
                points: 2
            },

            // ÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑŸÖÿÆÿ±Ÿàÿ∑
            {
                shape: 'cone',
                question: 'ÿßÿ≠ÿ≥ÿ® ŸÖÿ≠Ÿäÿ∑ ŸÇÿßÿπÿØÿ© ÿßŸÑŸÖÿÆÿ±Ÿàÿ∑ ÿßŸÑÿ™ÿßŸÑŸä: (œÄ = 3.14)',
                dimensions: { radius: 6, height: 8 },
                dimensionText: 'ŸÜÿµŸÅ ÿßŸÑŸÇÿ∑ÿ± = 6 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 8 ÿ≥ŸÖ',
                formula: 'ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© = 2œÄ √ó ŸÜÿµŸÅ ÿßŸÑŸÇÿ∑ÿ±',
                calculation: 'ÿßŸÑŸÖÿ≠Ÿäÿ∑ = 2 √ó 3.14 √ó 6 = 37.68',
                answer: 37.68,
                unit: 'ÿ≥ŸÖ',
                hint: 'ŸÇÿßÿπÿØÿ© ÿßŸÑŸÖÿÆÿ±Ÿàÿ∑ ÿØÿßÿ¶ÿ±Ÿäÿ©ÿå ŸàŸÖÿ≠Ÿäÿ∑ ÿßŸÑÿØÿßÿ¶ÿ±ÿ© = 2œÄŸÜŸÇ',
                points: 2
            },
            {
                shape: 'cone',
                question: 'ÿßÿ≠ÿ≥ÿ® ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ© ŸÑŸÑŸÖÿÆÿ±Ÿàÿ∑ ÿßŸÑÿ™ÿßŸÑŸä: (œÄ = 3.14ÿå ÿßŸÑÿ±ÿßÿ≥ŸÖ = 5)',
                dimensions: { radius: 3, height: 4, slant: 5 },
                dimensionText: 'ŸÜÿµŸÅ ÿßŸÑŸÇÿ∑ÿ± = 3 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 4 ÿ≥ŸÖÿå ÿßŸÑÿ±ÿßÿ≥ŸÖ = 5 ÿ≥ŸÖ',
                formula: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ© = œÄ √ó ŸÜŸÇ √ó ÿßŸÑÿ±ÿßÿ≥ŸÖ',
                calculation: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 3.14 √ó 3 √ó 5 = 47.1',
                answer: 47.1,
                unit: 'ÿ≥ŸÖ¬≤',
                hint: 'ÿßŸÑÿ±ÿßÿ≥ŸÖ ŸáŸà ÿßŸÑŸÖÿ≥ÿßŸÅÿ© ŸÖŸÜ ŸÇŸÖÿ© ÿßŸÑŸÖÿÆÿ±Ÿàÿ∑ ÿ•ŸÑŸâ ÿ≠ÿßŸÅÿ© ÿßŸÑŸÇÿßÿπÿØÿ©',
                points: 2
            },
            {
                shape: 'cone',
                question: 'ÿßÿ≠ÿ≥ÿ® ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© ŸÑŸÑŸÖÿÆÿ±Ÿàÿ∑ ÿßŸÑÿ™ÿßŸÑŸä: (œÄ = 3.14ÿå ÿßŸÑÿ±ÿßÿ≥ŸÖ = 10)',
                dimensions: { radius: 6, height: 8, slant: 10 },
                dimensionText: 'ŸÜÿµŸÅ ÿßŸÑŸÇÿ∑ÿ± = 6 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 8 ÿ≥ŸÖÿå ÿßŸÑÿ±ÿßÿ≥ŸÖ = 10 ÿ≥ŸÖ',
                formula: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© = œÄ √ó ŸÜŸÇ √ó (ŸÜŸÇ + ÿßŸÑÿ±ÿßÿ≥ŸÖ)',
                calculation: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 3.14 √ó 6 √ó (6 + 10) = 3.14 √ó 6 √ó 16 = 301.44',
                answer: 301.44,
                unit: 'ÿ≥ŸÖ¬≤',
                hint: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© = ŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÇÿßÿπÿØÿ© + ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿ¨ÿßŸÜÿ®Ÿäÿ©',
                points: 3
            },

            // ÿ£ÿ≥ÿ¶ŸÑÿ© ÿ•ÿ∂ÿßŸÅŸäÿ© ŸÖÿ™ŸÜŸàÿπÿ©
            {
                shape: 'cube',
                question: 'ÿßÿ≠ÿ≥ÿ® ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© ŸÑŸÑŸÖŸÉÿπÿ® ÿßŸÑÿ™ÿßŸÑŸä:',
                dimensions: { side: 9 },
                dimensionText: 'ÿ∑ŸàŸÑ ÿßŸÑÿ∂ŸÑÿπ = 9 ÿ≥ŸÖ',
                formula: 'ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© = 4 √ó ÿ∑ŸàŸÑ ÿßŸÑÿ∂ŸÑÿπ',
                calculation: 'ÿßŸÑŸÖÿ≠Ÿäÿ∑ = 4 √ó 9 = 36',
                answer: 36,
                unit: 'ÿ≥ŸÖ',
                hint: 'ÿßŸÑŸÖŸÉÿπÿ® ŸÑŸá ŸÇÿßÿπÿØÿ© ŸÖÿ±ÿ®ÿπÿ©',
                points: 1
            },
            {
                shape: 'rectangular_prism',
                question: 'ÿßÿ≠ÿ≥ÿ® ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© ŸÑŸÖÿ™Ÿàÿßÿ≤Ÿä ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿßÿ™ ÿßŸÑÿ™ÿßŸÑŸä:',
                dimensions: { length: 15, width: 8, height: 6 },
                dimensionText: 'ÿßŸÑÿ∑ŸàŸÑ = 15 ÿ≥ŸÖÿå ÿßŸÑÿπÿ±ÿ∂ = 8 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 6 ÿ≥ŸÖ',
                formula: 'ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© = 2(ÿßŸÑÿ∑ŸàŸÑ + ÿßŸÑÿπÿ±ÿ∂)',
                calculation: 'ÿßŸÑŸÖÿ≠Ÿäÿ∑ = 2(15 + 8) = 2 √ó 23 = 46',
                answer: 46,
                unit: 'ÿ≥ŸÖ',
                hint: 'ÿßŸÑŸÇÿßÿπÿØÿ© ŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿ© ÿßŸÑÿ¥ŸÉŸÑ',
                points: 1
            },
            {
                shape: 'cylinder',
                question: 'ÿßÿ≠ÿ≥ÿ® ŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÇÿßÿπÿØÿ© ÿßŸÑŸàÿßÿ≠ÿØÿ© ŸÑŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ©: (œÄ = 3.14)',
                dimensions: { radius: 7, height: 12 },
                dimensionText: 'ŸÜÿµŸÅ ÿßŸÑŸÇÿ∑ÿ± = 7 ÿ≥ŸÖÿå ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ = 12 ÿ≥ŸÖ',
                formula: 'ŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÇÿßÿπÿØÿ© = œÄ √ó ŸÜŸÇ¬≤',
                calculation: 'ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 3.14 √ó 7¬≤ = 3.14 √ó 49 = 153.86',
                answer: 153.86,
                unit: 'ÿ≥ŸÖ¬≤',
                hint: 'ŸÇÿßÿπÿØÿ© ÿßŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ© ÿØÿßÿ¶ÿ±Ÿäÿ© ŸàŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿØÿßÿ¶ÿ±ÿ© = œÄŸÜŸÇ¬≤',
                points: 2
            }
        ];

        // ÿ•ÿπÿØÿßÿØ ÿßŸÑÿ£ÿ≠ÿØÿßÿ´
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
        });

        function setupEventListeners() {
            document.getElementById('start-btn').addEventListener('click', startExercises);
            document.getElementById('new-exercise-btn').addEventListener('click', startExercises);
            document.getElementById('help-btn').addEventListener('click', showHelp);
            document.getElementById('submit-answer').addEventListener('click', submitAnswer);
            document.getElementById('next-question').addEventListener('click', nextQuestion);
            document.getElementById('show-hint').addEventListener('click', toggleHint);
            document.getElementById('restart-btn').addEventListener('click', startExercises);

            // ÿßŸÑÿ≥ŸÖÿßÿ≠ ÿ®ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ ÿ®ÿßŸÑÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ Enter
            document.getElementById('answer-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    submitAnswer();
                }
            });
        }

        function startExercises() {
            // ÿ•ÿÆŸÅÿßÿ° Ÿàÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑÿπŸÜÿßÿµÿ± ÿßŸÑŸÖŸÜÿßÿ≥ÿ®ÿ©
            document.getElementById('exercise-area').style.display = 'block';
            document.getElementById('results-screen').style.display = 'none';
            document.getElementById('start-btn').style.display = 'none';
            document.getElementById('new-exercise-btn').style.display = 'inline-block';

            // ÿ•ÿπÿØÿßÿØ ÿßŸÑÿ™ŸÖÿßÿ±ŸäŸÜ
            questions = shuffleArray([...questionBank]).slice(0, totalQuestions);
            currentQuestion = 0;
            currentScore = 0;
            userAnswers = [];

            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿπÿØÿßÿØÿßÿ™
            document.getElementById('total-questions').textContent = totalQuestions;
            document.getElementById('current-score').textContent = currentScore;

            // ÿπÿ±ÿ∂ ÿ£ŸàŸÑ ÿ≥ÿ§ÿßŸÑ
            showQuestion();
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function showQuestion() {
            if (currentQuestion >= questions.length) {
                showResults();
                return;
            }

            const question = questions[currentQuestion];

            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿπÿØÿßÿØÿßÿ™ ŸàÿßŸÑÿ™ŸÇÿØŸÖ
            document.getElementById('current-question').textContent = currentQuestion + 1;
            updateProgress();

            // ÿπÿ±ÿ∂ ÿßŸÑÿ≥ÿ§ÿßŸÑ
            document.getElementById('question-text').textContent = question.question;
            document.getElementById('shape-icon').textContent = shapes[question.shape].icon;
            document.getElementById('shape-name').textContent = shapes[question.shape].name;
            document.getElementById('dimensions-display').textContent = question.dimensionText;
            document.getElementById('formula-hint').textContent = question.formula;
            document.getElementById('unit-display').textContent = question.unit;

            // ÿ•ÿπÿßÿØÿ© ÿ™ÿπŸäŸäŸÜ ÿßŸÑÿ≠ŸÇŸàŸÑ
            document.getElementById('answer-input').value = '';
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('hint-content').style.display = 'none';
            document.getElementById('next-question').style.display = 'none';
            document.getElementById('submit-answer').style.display = 'inline-block';
            document.getElementById('submit-answer').disabled = false;

            // ÿ™ÿ±ŸÉŸäÿ≤ ÿπŸÑŸâ ÿ≠ŸÇŸÑ ÿßŸÑÿ•ÿØÿÆÿßŸÑ
            document.getElementById('answer-input').focus();
        }

        function updateProgress() {
            const progress = (currentQuestion / questions.length) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }

        function submitAnswer() {
            const question = questions[currentQuestion];
            const userAnswerInput = document.getElementById('answer-input').value.trim();

            if (!userAnswerInput) {
                alert('Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿ•ÿ¨ÿßÿ®ÿ©');
                return;
            }

            const userAnswer = parseFloat(userAnswerInput);
            const tolerance = 0.1; // ÿßŸÑÿ™ÿ≥ÿßŸÖÿ≠ ŸÅŸä ÿßŸÑÿ£ÿÆÿ∑ÿßÿ° ÿßŸÑÿ≠ÿ≥ÿßÿ®Ÿäÿ© ÿßŸÑÿ®ÿ≥Ÿäÿ∑ÿ©
            const isCorrect = Math.abs(userAnswer - question.answer) <= tolerance;

            // ÿ≠ŸÅÿ∏ ÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ
            userAnswers.push({
                question: question.question,
                userAnswer: userAnswer,
                correctAnswer: question.answer,
                isCorrect: isCorrect,
                points: isCorrect ? question.points : 0,
                maxPoints: question.points
            });

            // ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©
            if (isCorrect) {
                currentScore += question.points;
                document.getElementById('current-score').textContent = currentScore;
            }

            // ÿπÿ±ÿ∂ ÿßŸÑÿ™ÿ∫ÿ∞Ÿäÿ© ÿßŸÑÿ±ÿßÿ¨ÿπÿ©
            showFeedback(isCorrect, question, userAnswer);

            // ÿ•ÿÆŸÅÿßÿ° ÿ£ÿ≤ÿ±ÿßÿ± ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ ŸàÿßŸÑÿ™ŸÑŸÖŸäÿ≠ Ÿàÿ•ÿ∏Ÿáÿßÿ± ÿ≤ÿ± ÿßŸÑÿ™ÿßŸÑŸä
            document.getElementById('submit-answer').style.display = 'none';
            document.getElementById('show-hint').style.display = 'none';
            document.getElementById('next-question').style.display = 'inline-block';
        }

        function showFeedback(isCorrect, question, userAnswer) {
            const feedback = document.getElementById('feedback');
            feedback.style.display = 'block';

            if (isCorrect) {
                feedback.className = 'feedback correct';
                feedback.innerHTML = `
                    <div>üéâ ÿ•ÿ¨ÿßÿ®ÿ© ÿµÿ≠Ÿäÿ≠ÿ© ŸÖŸÖÿ™ÿßÿ≤ÿ©!</div>
                    <div>ÿ≠ÿµŸÑÿ™ ÿπŸÑŸâ ${question.points} ${question.points === 1 ? 'ŸÜŸÇÿ∑ÿ©' : 'ŸÜŸÇÿßÿ∑'}</div>
                `;
            } else {
                feedback.className = 'feedback wrong';
                feedback.innerHTML = `
                    <div>‚ùå ÿ•ÿ¨ÿßÿ®ÿ© ÿÆÿßÿ∑ÿ¶ÿ©</div>
                    <div>ÿ•ÿ¨ÿßÿ®ÿ™ŸÉ: ${userAnswer} ${question.unit}</div>
                    <div>ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©: ${question.answer} ${question.unit}</div>
                    <div class="explanation">
                        <strong>ÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿ≠ŸÑ:</strong><br>
                        ${question.calculation}
                    </div>
                `;
            }
        }

        function toggleHint() {
            const hintContent = document.getElementById('hint-content');
            const question = questions[currentQuestion];
            
            if (hintContent.style.display === 'none' || hintContent.style.display === '') {
                hintContent.style.display = 'block';
                hintContent.innerHTML = `
                    <strong>üí° ÿ™ŸÑŸÖŸäÿ≠:</strong><br>
                    ${question.hint}
                `;
                document.getElementById('show-hint').textContent = 'üîº ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ™ŸÑŸÖŸäÿ≠';
            } else {
                hintContent.style.display = 'none';
                document.getElementById('show-hint').textContent = 'üí° ÿ™ŸÑŸÖŸäÿ≠';
            }
        }

        function nextQuestion() {
            // ÿ•ÿ∏Ÿáÿßÿ± ÿ≤ÿ± ÿßŸÑÿ™ŸÑŸÖŸäÿ≠ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ
            document.getElementById('show-hint').style.display = 'inline-block';
            document.getElementById('show-hint').textContent = 'üí° ÿ™ŸÑŸÖŸäÿ≠';
            
            currentQuestion++;
            showQuestion();
        }

        function showResults() {
            document.getElementById('exercise-area').style.display = 'none';
            document.getElementById('results-screen').style.display = 'block';

            const totalPoints = questions.reduce((sum, q) => sum + q.points, 0);
            const percentage = (currentScore / totalPoints) * 100;
            
            // ÿ™ÿ≠ÿØŸäÿØ ŸÖÿ≥ÿ™ŸàŸâ ÿßŸÑÿ£ÿØÿßÿ°
            let scoreClass = '';
            let message = '';
            
            if (percentage >= 90) {
                scoreClass = 'score-excellent';
                message = 'üèÜ ŸÖŸÖÿ™ÿßÿ≤ ÿ¨ÿØÿßŸã! ÿ£ÿØÿßÿ° ÿ±ÿßÿ¶ÿπ ŸÅŸä ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ŸàÿßŸÑŸÖÿ≠Ÿäÿ∑!';
            } else if (percentage >= 75) {
                scoreClass = 'score-good';
                message = 'üéØ ÿ¨ŸäÿØ ÿ¨ÿØÿßŸã! ÿ™ÿ≠ÿ≥ŸÜ ŸÖŸÑÿ≠Ÿàÿ∏ ŸÅŸä ŸÅŸáŸÖ ÿßŸÑŸÖŸÅÿßŸáŸäŸÖ!';
            } else if (percentage >= 60) {
                scoreClass = 'score-good';
                message = 'üëç ÿ¨ŸäÿØ! ŸÖÿπ ÿßŸÑŸÖÿ≤ŸäÿØ ŸÖŸÜ ÿßŸÑÿ™ŸÖÿ±ŸäŸÜ ÿ≥ÿ™ÿ™ÿ≠ÿ≥ŸÜ ÿ£ŸÉÿ´ÿ±!';
            } else {
                scoreClass = 'score-needs-improvement';
                message = 'üìö ÿ™ÿ≠ÿ™ÿßÿ¨ ÿ•ŸÑŸâ ŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑŸÇŸàÿßŸÜŸäŸÜ ŸàÿßŸÑÿ™ŸÖÿ±ŸäŸÜ ÿ£ŸÉÿ´ÿ±!';
            }

            const finalScore = document.getElementById('final-score-text');
            finalScore.className = `final-score ${scoreClass}`;
            finalScore.textContent = `${currentScore}/${totalPoints} ŸÜŸÇÿ∑ÿ© (${percentage.toFixed(1)}%)`;

            // ÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ
            const correctAnswers = userAnswers.filter(a => a.isCorrect).length;
            const wrongAnswers = userAnswers.length - correctAnswers;

            document.getElementById('results-details').innerHTML = `
                <div style="margin-bottom: 20px;">${message}</div>
                <div style="font-size: 1.1em; line-height: 1.8;">
                    <div>üìä ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©: ${userAnswers.length}</div>
                    <div>‚úÖ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ©: ${correctAnswers}</div>
                    <div>‚ùå ÿßŸÑÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿßŸÑÿÆÿßÿ∑ÿ¶ÿ©: ${wrongAnswers}</div>
                    <div>üìà ŸÖÿπÿØŸÑ ÿßŸÑŸÜÿ¨ÿßÿ≠: ${((correctAnswers/userAnswers.length)*100).toFixed(1)}%</div>
                </div>
                <div style="margin-top: 20px; font-size: 1em; color: #FFD700;">
                    üí° ŸÜÿµŸäÿ≠ÿ©: ÿ±ÿßÿ¨ÿπ ÿßŸÑŸÇŸàÿßŸÜŸäŸÜ ÿßŸÑÿ±Ÿäÿßÿ∂Ÿäÿ© Ÿàÿ™ŸÖÿ±ŸÜ ÿ£ŸÉÿ´ÿ± ÿπŸÑŸâ ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™!
                </div>
            `;
        }

        function showHelp() {
            const helpMessage = `
üìê ÿØŸÑŸäŸÑ ÿ™ŸÖÿßÿ±ŸäŸÜ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ŸàÿßŸÑŸÖÿ≠Ÿäÿ∑:

üéØ ÿßŸÑŸáÿØŸÅ ŸÖŸÜ ÿßŸÑÿ™ŸÖÿßÿ±ŸäŸÜ:
‚Ä¢ ÿ™ÿ∑ÿ®ŸäŸÇ ŸÇŸàÿßŸÜŸäŸÜ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ŸàÿßŸÑŸÖÿ≠Ÿäÿ∑ ÿπŸÖŸÑŸäÿßŸã
‚Ä¢ ÿßŸÑÿ™ŸÖÿ±ŸÜ ÿπŸÑŸâ ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™ ÿßŸÑÿ±Ÿäÿßÿ∂Ÿäÿ©
‚Ä¢ ŸÅŸáŸÖ ÿÆÿµÿßÿ¶ÿµ ÿßŸÑŸÖÿ¨ÿ≥ŸÖÿßÿ™ ÿßŸÑŸÖÿÆÿ™ŸÑŸÅÿ©

üìö ÿßŸÑŸÖÿ¨ÿ≥ŸÖÿßÿ™ ÿßŸÑŸÖÿ™ÿ∂ŸÖŸÜÿ©:
üü´ ÿßŸÑŸÖŸÉÿπÿ®: 6 ÿ£Ÿàÿ¨Ÿá ŸÖÿ±ÿ®ÿπÿ© ŸÖÿ™ÿ≥ÿßŸàŸäÿ©
üì¶ ŸÖÿ™Ÿàÿßÿ≤Ÿä ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿßÿ™: 6 ÿ£Ÿàÿ¨Ÿá ŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿ©
ü•´ ÿßŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ©: ŸÇÿßÿπÿØÿ™ÿßŸÜ ÿØÿßÿ¶ÿ±Ÿäÿ™ÿßŸÜ + ÿ≥ÿ∑ÿ≠ ŸÖŸÜÿ≠ŸÜŸä
üéâ ÿßŸÑŸÖÿÆÿ±Ÿàÿ∑: ŸÇÿßÿπÿØÿ© ÿØÿßÿ¶ÿ±Ÿäÿ© + ŸÇŸÖÿ© ŸÖÿØÿ®ÿ®ÿ©

üìè ÿßŸÑŸÇŸàÿßŸÜŸäŸÜ ÿßŸÑŸÖŸáŸÖÿ©:

ÿßŸÑŸÖŸÉÿπÿ®:
‚Ä¢ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© = 6 √ó (ÿßŸÑÿ∂ŸÑÿπ)¬≤
‚Ä¢ ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© = 4 √ó ÿßŸÑÿ∂ŸÑÿπ

ŸÖÿ™Ÿàÿßÿ≤Ÿä ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑÿßÿ™:
‚Ä¢ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© = 2(ÿ∑ŸàŸÑ√óÿπÿ±ÿ∂ + ÿ∑ŸàŸÑ√óÿßÿ±ÿ™ŸÅÿßÿπ + ÿπÿ±ÿ∂√óÿßÿ±ÿ™ŸÅÿßÿπ)
‚Ä¢ ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© = 2(ÿßŸÑÿ∑ŸàŸÑ + ÿßŸÑÿπÿ±ÿ∂)

ÿßŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ©:
‚Ä¢ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© = 2œÄ √ó ŸÜŸÇ √ó (ŸÜŸÇ + ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ)
‚Ä¢ ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© = 2œÄ √ó ŸÜŸÇ

ÿßŸÑŸÖÿÆÿ±Ÿàÿ∑:
‚Ä¢ ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÉŸÑŸäÿ© = œÄ √ó ŸÜŸÇ √ó (ŸÜŸÇ + ÿßŸÑÿ±ÿßÿ≥ŸÖ)
‚Ä¢ ŸÖÿ≠Ÿäÿ∑ ÿßŸÑŸÇÿßÿπÿØÿ© = 2œÄ √ó ŸÜŸÇ

üí° ŸÜÿµÿßÿ¶ÿ≠ ŸÑŸÑŸÜÿ¨ÿßÿ≠:
‚úì ÿßŸÇÿ±ÿ£ ÿßŸÑÿ≥ÿ§ÿßŸÑ ÿ®ÿπŸÜÿßŸäÿ©
‚úì ÿ≠ÿØÿØ ÿßŸÑŸÖÿ¨ÿ≥ŸÖ ŸàÿßŸÑŸÖÿ∑ŸÑŸàÿ® ÿ®Ÿàÿ∂Ÿàÿ≠
‚úì ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑŸÇÿßŸÜŸàŸÜ ÿßŸÑŸÖŸÜÿßÿ≥ÿ®
‚úì ÿßŸÜÿ™ÿ®Ÿá ŸÑŸÑŸàÿ≠ÿØÿßÿ™ (ÿ≥ŸÖÿå ÿ≥ŸÖ¬≤)
‚úì ÿßÿ≥ÿ™ÿÆÿØŸÖ œÄ = 3.14 ŸÅŸä ÿßŸÑÿ≠ÿ≥ÿßÿ®ÿßÿ™
‚úì ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿ•ÿ¨ÿßÿ®ÿ™ŸÉ ŸÇÿ®ŸÑ ÿßŸÑÿ•ÿ±ÿ≥ÿßŸÑ

üéÆ ŸÉŸäŸÅŸäÿ© ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ:
1. ÿßÿ∂ÿ∫ÿ∑ "ÿ®ÿØÿ° ÿßŸÑÿ™ŸÖÿßÿ±ŸäŸÜ"
2. ÿßŸÇÿ±ÿ£ ÿßŸÑÿ≥ÿ§ÿßŸÑ ŸàÿßŸÑÿ£ÿ®ÿπÿßÿØ ÿßŸÑŸÖÿπÿ∑ÿßÿ©
3. ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑŸÇÿßŸÜŸàŸÜ ÿßŸÑŸÖÿπÿ±Ÿàÿ∂
4. ÿßÿ≠ÿ≥ÿ® ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© Ÿàÿ£ÿØÿÆŸÑŸáÿß
5. ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ™ŸÑŸÖŸäÿ≠ ÿ•ÿ∞ÿß ÿßÿ≠ÿ™ÿ¨ÿ™ ŸÖÿ≥ÿßÿπÿØÿ©
6. ÿ±ÿßÿ¨ÿπ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨ ŸÅŸä ÿßŸÑŸÜŸáÿßŸäÿ©
            `;
            alert(helpMessage);
        }
    </script>
</body>
</html>